---
description: フローステップサービス — Marketoドキュメント — 製品ドキュメント
title: フローステップサービス
hide: true
hidefromtoc: true
source-git-commit: 08767d476cf89eefe7223308945733c6f813a34d
workflow-type: tm+mt
source-wordcount: '1325'
ht-degree: 0%

---

# フローステップサービス {#flow-step-service}

>[!NOTE]
>
>このプレリリース機能は、現在、セルフサービスフローステップベータプログラムに登録されているアカウントでのみ使用できます。

セルフサービスフローステップは、Web サービスをオーサリング、公開、およびAdobeMarketo Engageスマートキャンペーンに統合するためのフレームワークと機能のセットです。 このガイドは、既に作成および公開されているMarketo Engageのエンドユーザーがサービスをインストールして使用することを目的としています。 独自のサービスのオーサリングと公開について詳しくは、 [サービスプロバイダーインターフェイス用の GitHub リポジトリ](https://github.com/adobe/Marketo-SSFS-Service-Provider-Interface). 概念実証ルックアップテーブルの実装が見つかる場合があります [ここ](https://github.com/adobe/mkto-flow-lookup).

## プレリリースの制限と警告 {#pre-release-restrictions-and-warnings}

この機能は現在非公開ベータ版で、使用にいくつかの制限があります。

* この機能は、Marketo Engageのサンドボックスインスタンスでのみ使用できます
* カスタムおよびサードパーティのフローステップは、2021 年第 4 四半期リリースの実行可能キャンペーンとは互換性がありません。 これは 2022 年第 2 四半期に修正される予定です
* Marketo SkyUI は、この機能が有効なインスタンスでは一切使用しないでください

## サービスのオンボーディングと管理 {#onboarding-and-managing-services}

カスタムフローステップをインストールするには、Marketo (**ウェブフックの管理** （1 月 21 日リリース、3 月 11 日リリースでの変更）。 インストール URL 以外にも、最初のオンボーディングの完了後に、サービスプロバイダーグリッドからサービスの詳細画面にドリルダウンして、サービスのその他すべての側面を編集できます。

## インストール URL {#installation-url}

インストールを開始するには、まず、サービスを定義する OpenAPI ドキュメントの URL を取得する必要があります。 サービスプロバイダーがこれをお客様に提供できるようにする必要があります。通常は、で終わる URL が含まれます。 `/openapi.json`. 完全な URL は次のようになります `https://www.example.com/OpenAPI.json`. この URL を取得したら、管理セクションのサービスプロバイダーメニューに移動します。

クリック **次へ** をクリックして、「サービス資格情報の入力」セクションに移動します。

![](assets/flow-step-service-1.png)

## サービス資格情報を入力 {#enter-service-credentials}

インストールするサービスにアクセスするには、Marketoに有効な API 資格情報が必要です。 これらの資格情報は、サービスプロバイダーから提供される必要があります。 サービスには 3 つの異なる認証オプションがあるので、3 つの異なるプロンプトのいずれかが表示される場合があります。 **API キー** 入力フィールドが 1 つだけある **基本認証** ユーザ名とパスワードが必要で、Realm と呼ばれるフィールドも必要な場合があります。 **OAuth2** の使用 _クライアント資格情報_ 付与（必要な） _クライアント ID_ および _クライアント秘密鍵_.

>[!NOTE]
>
>OAuth2 は、3 月 11 日のリリースまでは使用できません。

資格情報を保存すると、Marketoはサービスのステータスエンドポイントを呼び出して、それらが有効であることを確認しようとします。 指定した資格情報が無効な場合は、これを示すエラーが表示されます。

## オンボーディングガイド（オプション） {#onboarding-guide}

一部のサービスプロバイダーには、オプションのオンボーディングガイドの手順が含まれています。 この手順には、そのサービスに固有のサービスのオンボーディングを完了するための追加の手順が含まれます。

## フィールドマッピング {#field-mapping}

特定のリードフィールドからデータを受け取る、または返すには、そのフィールドをマッピングする必要があります。 オンボーディング中はマッピングが必須の手順ですが、後でいつでも戻ってマッピングを変更できます。 別々の画面で設定するマッピングには、次の 2 種類があります。 **送信フィールド**:Marketoがフローステップを呼び出すとサービスに送信され、 **受信フィールド** これは、Marketoにデータを返したときにサービスからデータを受け取る可能性のあるフィールドです。

>[!NOTE]
>
>送信フィールドをマッピングすることで、関連するサービスで処理されるリードに関連するそのフィールドからデータを送信するMarketo権限を付与します。 これらのフィールドには、データプライバシー、保護およびテナント法で保護される個人識別情報が含まれる場合があるので、このデータをサービスプロバイダーに送信するための適切な法的地位および権限があることを確認します。

オプションのフィールドマッピングは、サービスを中断することなく無効にできますが、必要なマッピングは完全に削除または非アクティブ化されない場合があります。

## サービス主導型マッピング {#service-driven-mappings}

イベント登録フローステップなど、一定の入力と出力を持つサービスでは、 **サービス主導型マッピング**. このタイプのマッピングの場合、サービスプロバイダーは API 名の形式でデータ型とヒントの両方を提供します。 ヒントが既存のリードフィールドの API 名と一致する場合、そのフィールドはマッピングセクションに自動的に入力されます。 一致するヒントがないフィールドの場合、一致するデータ型を持つフィールドのリストからマッピングを手動で入力する必要があります。 オンボーディングを完了するには、必要なマッピングを設定する必要があります。

![](assets/flow-step-service-2.png)

## ユーザー駆動型マッピング {#user-driven-mappings}

日付形式のサービスなど、一定の入力および出力セットを持たないサービスでは、を使用します **ユーザー駆動型マッピング**. つまり、各受信および送信フィールドは、管理者が設定する必要があります。

![](assets/flow-step-service-3.png)

## 送信フィールド {#outgoing-fields}

送信フィールドは、スマートキャンペーンでフローステップが使用された場合にフローステップサービスに送信されるフィールドです。

## 受信フィールド {#incoming-fields}

受信フィールドは、フローステップサービスがデータの書き込みを許可するフィールドです。

## 設定オプション（オプション） {#configuration-options}

一部のサービスには、オプションまたは必須のグローバル設定オプションがあります。 オプションが必要な場合は、保存するかオンボーディングを完了する前に、必要なすべてのオプションに対して値を設定する必要があります。 名前が斜体のパラメーターは、呼び出されたサービスにヘッダーとして送信されます。

![](assets/flow-step-service-4.png)

## サービスの退職 {#retiring-a-service}

サービスの新しいバージョンや別のバージョンへの移行を容易にするために、サービスプロバイダーメニューからサービスを廃止できます。使用を中断する必要はありません。 **サービスの退職** 対応するフローステップをスマートキャンペーンフローパレットから削除し、新しい使用状況を作成できなくします。 ほとんどの場合、サービスの廃止を選択した場合は、既存のサービスを交換する準備が整っている必要があります。

## サービスの廃止 {#service-deprecation}

サービスプロバイダーは、フローステップサービスをソフトウェアライフサイクルの通常の部分として廃止する必要が生じる場合があります。 サービスプロバイダーがこれを通知すると、廃止日とメッセージがサービスプロバイダーグリッドビューに入力されます。 廃止されたサービスを引き続き使用すると、期待どおりの応答がなくなったり、Marketo Smart Campaigns からの要求の受け入れが停止したりする場合は、サービスが中断される可能性があります。

## サードパーティおよびカスタムフローステップの使用 {#using-third-party-and-custom-flow-steps}

インストール済みのフローステップは、標準のフローステップとほぼ同じ方法で使用できます。 サービスで定義されたすべてのフローパラメーターがエンドユーザーに表示されます。

## 選択リストを更新中 {#refreshing-picklists}

Marketoでは毎晩サービスの選択リストが更新されますが、キャンペーンの作成など、新しい選択肢が必要になる場合があります。 更新ボタンを使用して、フローステップの任意のインスタンスから簡単に更新できます。または、サービスを選択したら、管理者/サービスプロバイダーメニューに移動し、「選択リストを更新」をクリックします。

## 受信フィールドの確認 {#checking-incoming-fields}

ツールチップアイコンの上にマウスポインターを置くと、特定のフローステップに対して設定されている受信フィールドを確認できます。 これは、リードがフローしたときに変更される可能性のあるフィールドを判断するのに役立ちます。そのため、これらのフィールドを使用して、以降の手順で選択を設定できます。

![](assets/flow-step-service-5.png)

## 受信するフィールドとデータ値の変更 {#incoming-fields-and-data-value-changes}

他のほとんどのフローステップとは異なり、SSFS フレームワークで実装されたフローは、管理者がマッピングしたリードフィールドにデータを書き戻し、その変更をデータ値変更アクティビティとして記録します。  フローステップがこの方法でデータを書き込むと、スマートキャンペーンが後続のステップに進む前に、これらの変更がすべて完了するので、以降のフローステップの選択で、書き込まれたデータが依存する可能性があります。

## サービスログと統計 {#service-logs-and-statistics}

各フローステップサービスには、ヘルスの監視や統合に関連する問題のトラブルシューティングに役立つ、複数の種類のログが関連付けられています。

## サービス統計 {#service-statistics}

サービス統計ログは、各サービスの呼び出しとコールバックの結果を集計します。 これらは、時間、レベル（チャンクまたはレコード）、およびコード別にグループ化され、受信した各コードの数と最新のログメッセージを提供します。 このダッシュボードは、主にサービスの状態を監視するのに役立つように設計されています。
